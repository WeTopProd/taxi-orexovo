{"ast":null,"code":"import axios from 'axios';\nimport { useQuery } from '@tanstack/react-query';\nconst BASE_URL = 'http://127.0.0.1:8000/api/order';\nexport async function fetchOrders() {\n  let page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  return await axios.get(BASE_URL, {\n    params: {\n      page: page\n    }\n  });\n}\nexport async function submitOrder(data) {\n  return await axios.post(BASE_URL, data);\n}\nexport const {\n  data: orders = [],\n  isLoading\n} = useQuery({\n  queryFn: () => fetchOrders().then(data => {\n    setPrevPage(data === null || data === void 0 ? void 0 : data.data.previous);\n    setNextPage(data === null || data === void 0 ? void 0 : data.data.next);\n    return data === null || data === void 0 ? void 0 : data.data.results;\n  }),\n  queryKey: [\"orders\"],\n  refetchInterval: 3000,\n  retry: 5,\n  onError: error => {\n    alert(error);\n  }\n});","map":{"version":3,"names":["axios","useQuery","BASE_URL","fetchOrders","page","arguments","length","undefined","get","params","submitOrder","data","post","orders","isLoading","queryFn","then","setPrevPage","previous","setNextPage","next","results","queryKey","refetchInterval","retry","onError","error","alert"],"sources":["/Users/admin/Desktop/projects/wetop/taxi/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\nimport {useQuery} from '@tanstack/react-query';\n\nconst BASE_URL = 'http://127.0.0.1:8000/api/order';\n\nexport async function fetchOrders (page = 1) {\n  return await axios.get(BASE_URL, {\n    params: {\n      page: page,\n    }\n  });\n}\n\nexport async function submitOrder (data) {\n  return await axios.post(BASE_URL, data);\n}\n\nexport const {data: orders = [], isLoading} = useQuery({\n  queryFn: () => fetchOrders()\n    .then((data) => {\n      setPrevPage(data?.data.previous);\n      setNextPage(data?.data.next);\n      return data?.data.results\n    }),\n  queryKey: [\"orders\"],\n  refetchInterval: 3000,\n  retry: 5,\n  onError: (error) => {alert(error)}\n});\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,QAAQ,QAAO,uBAAuB;AAE9C,MAAMC,QAAQ,GAAG,iCAAiC;AAElD,OAAO,eAAeC,WAAWA,CAAA,EAAY;EAAA,IAAVC,IAAI,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;EACzC,OAAO,MAAML,KAAK,CAACQ,GAAG,CAACN,QAAQ,EAAE;IAC/BO,MAAM,EAAE;MACNL,IAAI,EAAEA;IACR;EACF,CAAC,CAAC;AACJ;AAEA,OAAO,eAAeM,WAAWA,CAAEC,IAAI,EAAE;EACvC,OAAO,MAAMX,KAAK,CAACY,IAAI,CAACV,QAAQ,EAAES,IAAI,CAAC;AACzC;AAEA,OAAO,MAAM;EAACA,IAAI,EAAEE,MAAM,GAAG,EAAE;EAAEC;AAAS,CAAC,GAAGb,QAAQ,CAAC;EACrDc,OAAO,EAAEA,CAAA,KAAMZ,WAAW,CAAC,CAAC,CACzBa,IAAI,CAAEL,IAAI,IAAK;IACdM,WAAW,CAACN,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEA,IAAI,CAACO,QAAQ,CAAC;IAChCC,WAAW,CAACR,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEA,IAAI,CAACS,IAAI,CAAC;IAC5B,OAAOT,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEA,IAAI,CAACU,OAAO;EAC3B,CAAC,CAAC;EACJC,QAAQ,EAAE,CAAC,QAAQ,CAAC;EACpBC,eAAe,EAAE,IAAI;EACrBC,KAAK,EAAE,CAAC;EACRC,OAAO,EAAGC,KAAK,IAAK;IAACC,KAAK,CAACD,KAAK,CAAC;EAAA;AACnC,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}