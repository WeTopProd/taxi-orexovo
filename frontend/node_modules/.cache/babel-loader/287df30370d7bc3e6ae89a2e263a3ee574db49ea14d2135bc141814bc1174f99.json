{"ast":null,"code":"import _slicedToArray from\"/Users/admin/Desktop/projects/wetop/taxi/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from'react';import styles from'./AddCar.module.scss';import cx from'classnames';import{useOnClickOutside}from'../../../helpers/hooks';import{submitAddCar}from'../../../services/userService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AddCar=function AddCar(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpenAddCar=_useState2[0],setIsOpenAddCar=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),driverPhone=_useState4[0],setDriverPhone=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),driverName=_useState6[0],setDriverName=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),carNumber=_useState8[0],setCarNumber=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),driverPassword=_useState10[0],setDriverPassword=_useState10[1];var addCarRef=useRef(null);var btnRef=useRef(null);var onClickAddCarHandler=function onClickAddCarHandler(){setIsOpenAddCar(!isOpenAddCar);};// Call hook passing in the ref and a function to call on outside click\nuseOnClickOutside(addCarRef,btnRef,function(){return setIsOpenAddCar(false);});var clearForm=function clearForm(){setDriverPhone('');setDriverName('');setCarNumber('');setDriverPassword('');};var sendRequestAddCar=function sendRequestAddCar(data){submitAddCar(data).then(function(){alert('Новая машина добавлена успешно');clearForm();}).catch(function(error){alert(error);});};var handleAddCarSubmit=function handleAddCarSubmit(e){e.preventDefault();sendRequestAddCar({user_type:'driver',phone:driverPhone,first_name:driverName,car_number:carNumber,password:driverPassword});setIsOpenAddCar(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{ref:btnRef,className:cx(styles.btn,isOpenAddCar?styles.active:''),onClick:onClickAddCarHandler,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0442\\u043E\\u043C\\u043E\\u0431\\u0438\\u043B\\u044C\"}),isOpenAddCar&&/*#__PURE__*/_jsx(\"div\",{ref:addCarRef,className:styles.add_car_popup,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddCarSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:driverPhone,onChange:function onChange(e){return setDriverPhone(e.target.value);},placeholder:'Телефон водителя',name:\"driver_phone\",id:\"driver_phone\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:driverName,onChange:function onChange(e){return setDriverName(e.target.value);},placeholder:'Имя водителя',name:\"driver_name\",id:\"driver_name\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:carNumber,onChange:function onChange(e){return setCarNumber(e.target.value);},placeholder:'Гос номер машины',name:\"car_number\",id:\"car_number\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:driverPassword,onChange:function onChange(e){return setDriverPassword(e.target.value);},placeholder:'Пароль',name:\"driver_password\",id:\"driver_password\",required:true}),/*#__PURE__*/_jsxs(\"div\",{className:styles.btns,children:[/*#__PURE__*/_jsx(\"button\",{className:styles.btn,type:'submit',children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{onClick:clearForm,className:cx(styles.btn,styles.btn_reset),type:'reset',children:\"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C\"})]})]})})]});};export default AddCar;","map":{"version":3,"names":["React","useRef","useState","styles","cx","useOnClickOutside","submitAddCar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AddCar","_useState","_useState2","_slicedToArray","isOpenAddCar","setIsOpenAddCar","_useState3","_useState4","driverPhone","setDriverPhone","_useState5","_useState6","driverName","setDriverName","_useState7","_useState8","carNumber","setCarNumber","_useState9","_useState10","driverPassword","setDriverPassword","addCarRef","btnRef","onClickAddCarHandler","clearForm","sendRequestAddCar","data","then","alert","catch","error","handleAddCarSubmit","e","preventDefault","user_type","phone","first_name","car_number","password","children","ref","className","btn","active","onClick","add_car_popup","onSubmit","type","value","onChange","target","placeholder","name","id","required","btns","btn_reset"],"sources":["/Users/admin/Desktop/projects/wetop/taxi/frontend/src/pages/Dispatcher/AddCar/AddCar.jsx"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport styles from './AddCar.module.scss';\nimport cx from 'classnames';\nimport { useOnClickOutside } from '../../../helpers/hooks';\nimport { submitAddCar } from '../../../services/userService';\n\nconst AddCar = () => {\n  const [isOpenAddCar, setIsOpenAddCar] = useState(false);\n\n  const [driverPhone, setDriverPhone] = useState('');\n  const [driverName, setDriverName] = useState('');\n  const [carNumber, setCarNumber] = useState('');\n  const [driverPassword, setDriverPassword] = useState('');\n\n  const addCarRef = useRef(null);\n  const btnRef = useRef(null);\n\n  const onClickAddCarHandler = () => {\n    setIsOpenAddCar(!isOpenAddCar);\n  };\n\n  // Call hook passing in the ref and a function to call on outside click\n  useOnClickOutside(addCarRef, btnRef, () => setIsOpenAddCar(false));\n\n  const clearForm = () => {\n    setDriverPhone('');\n    setDriverName('');\n    setCarNumber('');\n    setDriverPassword('');\n  };\n\n  const sendRequestAddCar = (data) => {\n    submitAddCar(data)\n      .then(() => {\n        alert('Новая машина добавлена успешно');\n        clearForm();\n      })\n      .catch((error) => {\n        alert(error);\n      });\n  };\n\n  const handleAddCarSubmit = (e) => {\n    e.preventDefault();\n    sendRequestAddCar({\n      user_type: 'driver',\n      phone: driverPhone,\n      first_name: driverName,\n      car_number: carNumber,\n      password: driverPassword,\n    });\n    setIsOpenAddCar(false);\n  };\n\n  return (\n    <>\n      <button\n        ref={btnRef}\n        className={cx(styles.btn, isOpenAddCar ? styles.active : '')}\n        onClick={onClickAddCarHandler}>\n        Добавить автомобиль\n      </button>\n      {isOpenAddCar && (\n        <div ref={addCarRef} className={styles.add_car_popup}>\n          <form onSubmit={handleAddCarSubmit}>\n            <input\n              type=\"text\"\n              value={driverPhone}\n              onChange={(e) => setDriverPhone(e.target.value)}\n              placeholder={'Телефон водителя'}\n              name=\"driver_phone\"\n              id=\"driver_phone\"\n              required={true}\n            />\n            <input\n              type=\"text\"\n              value={driverName}\n              onChange={(e) => setDriverName(e.target.value)}\n              placeholder={'Имя водителя'}\n              name=\"driver_name\"\n              id=\"driver_name\"\n              required={true}\n            />\n            <input\n              type=\"text\"\n              value={carNumber}\n              onChange={(e) => setCarNumber(e.target.value)}\n              placeholder={'Гос номер машины'}\n              name=\"car_number\"\n              id=\"car_number\"\n              required={true}\n            />\n            <input\n              type=\"text\"\n              value={driverPassword}\n              onChange={(e) => setDriverPassword(e.target.value)}\n              placeholder={'Пароль'}\n              name=\"driver_password\"\n              id=\"driver_password\"\n              required={true}\n            />\n            <div className={styles.btns}>\n              <button className={styles.btn} type={'submit'}>\n                Отправить\n              </button>\n              <button\n                onClick={clearForm}\n                className={cx(styles.btn, styles.btn_reset)}\n                type={'reset'}>\n                Очистить\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default AddCar;\n"],"mappings":"uIAAA,MAAO,CAAAA,KAAK,EAAIC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAC/C,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,EAAE,KAAM,YAAY,CAC3B,OAASC,iBAAiB,KAAQ,wBAAwB,CAC1D,OAASC,YAAY,KAAQ,+BAA+B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE7D,GAAM,CAAAC,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAA,CAAS,CACnB,IAAAC,SAAA,CAAwCZ,QAAQ,CAAC,KAAK,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAhDG,YAAY,CAAAF,UAAA,IAAEG,eAAe,CAAAH,UAAA,IAEpC,IAAAI,UAAA,CAAsCjB,QAAQ,CAAC,EAAE,CAAC,CAAAkB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA3CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAClC,IAAAG,UAAA,CAAoCrB,QAAQ,CAAC,EAAE,CAAC,CAAAsB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAzCE,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAChC,IAAAG,UAAA,CAAkCzB,QAAQ,CAAC,EAAE,CAAC,CAAA0B,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAAvCE,SAAS,CAAAD,UAAA,IAAEE,YAAY,CAAAF,UAAA,IAC9B,IAAAG,UAAA,CAA4C7B,QAAQ,CAAC,EAAE,CAAC,CAAA8B,WAAA,CAAAhB,cAAA,CAAAe,UAAA,IAAjDE,cAAc,CAAAD,WAAA,IAAEE,iBAAiB,CAAAF,WAAA,IAExC,GAAM,CAAAG,SAAS,CAAGlC,MAAM,CAAC,IAAI,CAAC,CAC9B,GAAM,CAAAmC,MAAM,CAAGnC,MAAM,CAAC,IAAI,CAAC,CAE3B,GAAM,CAAAoC,oBAAoB,CAAG,QAAvB,CAAAA,oBAAoBA,CAAA,CAAS,CACjCnB,eAAe,CAAC,CAACD,YAAY,CAAC,CAChC,CAAC,CAED;AACAZ,iBAAiB,CAAC8B,SAAS,CAAEC,MAAM,CAAE,iBAAM,CAAAlB,eAAe,CAAC,KAAK,CAAC,GAAC,CAElE,GAAM,CAAAoB,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACtBhB,cAAc,CAAC,EAAE,CAAC,CAClBI,aAAa,CAAC,EAAE,CAAC,CACjBI,YAAY,CAAC,EAAE,CAAC,CAChBI,iBAAiB,CAAC,EAAE,CAAC,CACvB,CAAC,CAED,GAAM,CAAAK,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIC,IAAI,CAAK,CAClClC,YAAY,CAACkC,IAAI,CAAC,CACfC,IAAI,CAAC,UAAM,CACVC,KAAK,CAAC,gCAAgC,CAAC,CACvCJ,SAAS,CAAC,CAAC,CACb,CAAC,CAAC,CACDK,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBF,KAAK,CAACE,KAAK,CAAC,CACd,CAAC,CAAC,CACN,CAAC,CAED,GAAM,CAAAC,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAIC,CAAC,CAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBR,iBAAiB,CAAC,CAChBS,SAAS,CAAE,QAAQ,CACnBC,KAAK,CAAE5B,WAAW,CAClB6B,UAAU,CAAEzB,UAAU,CACtB0B,UAAU,CAAEtB,SAAS,CACrBuB,QAAQ,CAAEnB,cACZ,CAAC,CAAC,CACFf,eAAe,CAAC,KAAK,CAAC,CACxB,CAAC,CAED,mBACER,KAAA,CAAAE,SAAA,EAAAyC,QAAA,eACE7C,IAAA,WACE8C,GAAG,CAAElB,MAAO,CACZmB,SAAS,CAAEnD,EAAE,CAACD,MAAM,CAACqD,GAAG,CAAEvC,YAAY,CAAGd,MAAM,CAACsD,MAAM,CAAG,EAAE,CAAE,CAC7DC,OAAO,CAAErB,oBAAqB,CAAAgB,QAAA,CAAC,+GAEjC,CAAQ,CAAC,CACRpC,YAAY,eACXT,IAAA,QAAK8C,GAAG,CAAEnB,SAAU,CAACoB,SAAS,CAAEpD,MAAM,CAACwD,aAAc,CAAAN,QAAA,cACnD3C,KAAA,SAAMkD,QAAQ,CAAEf,kBAAmB,CAAAQ,QAAA,eACjC7C,IAAA,UACEqD,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEzC,WAAY,CACnB0C,QAAQ,CAAE,SAAAA,SAACjB,CAAC,QAAK,CAAAxB,cAAc,CAACwB,CAAC,CAACkB,MAAM,CAACF,KAAK,CAAC,EAAC,CAChDG,WAAW,CAAE,kBAAmB,CAChCC,IAAI,CAAC,cAAc,CACnBC,EAAE,CAAC,cAAc,CACjBC,QAAQ,CAAE,IAAK,CAChB,CAAC,cACF5D,IAAA,UACEqD,IAAI,CAAC,MAAM,CACXC,KAAK,CAAErC,UAAW,CAClBsC,QAAQ,CAAE,SAAAA,SAACjB,CAAC,QAAK,CAAApB,aAAa,CAACoB,CAAC,CAACkB,MAAM,CAACF,KAAK,CAAC,EAAC,CAC/CG,WAAW,CAAE,cAAe,CAC5BC,IAAI,CAAC,aAAa,CAClBC,EAAE,CAAC,aAAa,CAChBC,QAAQ,CAAE,IAAK,CAChB,CAAC,cACF5D,IAAA,UACEqD,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEjC,SAAU,CACjBkC,QAAQ,CAAE,SAAAA,SAACjB,CAAC,QAAK,CAAAhB,YAAY,CAACgB,CAAC,CAACkB,MAAM,CAACF,KAAK,CAAC,EAAC,CAC9CG,WAAW,CAAE,kBAAmB,CAChCC,IAAI,CAAC,YAAY,CACjBC,EAAE,CAAC,YAAY,CACfC,QAAQ,CAAE,IAAK,CAChB,CAAC,cACF5D,IAAA,UACEqD,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE7B,cAAe,CACtB8B,QAAQ,CAAE,SAAAA,SAACjB,CAAC,QAAK,CAAAZ,iBAAiB,CAACY,CAAC,CAACkB,MAAM,CAACF,KAAK,CAAC,EAAC,CACnDG,WAAW,CAAE,QAAS,CACtBC,IAAI,CAAC,iBAAiB,CACtBC,EAAE,CAAC,iBAAiB,CACpBC,QAAQ,CAAE,IAAK,CAChB,CAAC,cACF1D,KAAA,QAAK6C,SAAS,CAAEpD,MAAM,CAACkE,IAAK,CAAAhB,QAAA,eAC1B7C,IAAA,WAAQ+C,SAAS,CAAEpD,MAAM,CAACqD,GAAI,CAACK,IAAI,CAAE,QAAS,CAAAR,QAAA,CAAC,wDAE/C,CAAQ,CAAC,cACT7C,IAAA,WACEkD,OAAO,CAAEpB,SAAU,CACnBiB,SAAS,CAAEnD,EAAE,CAACD,MAAM,CAACqD,GAAG,CAAErD,MAAM,CAACmE,SAAS,CAAE,CAC5CT,IAAI,CAAE,OAAQ,CAAAR,QAAA,CAAC,kDAEjB,CAAQ,CAAC,EACN,CAAC,EACF,CAAC,CACJ,CACN,EACD,CAAC,CAEP,CAAC,CAED,cAAe,CAAAxC,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}