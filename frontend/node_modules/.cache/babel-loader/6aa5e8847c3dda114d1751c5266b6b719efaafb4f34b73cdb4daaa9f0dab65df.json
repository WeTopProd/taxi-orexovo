{"ast":null,"code":"import React from'react';import styles from'./DriverStatus.module.scss';import cx from'classnames';import{useDriverContext}from'../DriverContext';import{changeDriverDataQuery}from'../../../services/userService';import{DRIVER_STATUS}from'../../../helpers/dictionaries';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var DriverStatus=function DriverStatus(){var _useDriverContext=useDriverContext(),carId=_useDriverContext.carId,setDriverStatus=_useDriverContext.setDriverStatus,driverStatus=_useDriverContext.driverStatus;var onClickStatusFree=function onClickStatusFree(){setDriverStatus('free');changeDriverDataQuery({status:'free'},carId).catch(function(err){alert(\"\\u043D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0438\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441 \".concat(err));});};var onClickStatusBusy=function onClickStatusBusy(){setDriverStatus('busy');changeDriverDataQuery({status:'busy'},carId).catch(function(err){alert(\"\\u043D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0438\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441 \".concat(err));});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:cx(styles.status_text,driverStatus==='busy'?styles.status_text_busy:''),children:[\"\\u0422\\u0435\\u043A\\u0443\\u0449\\u0438\\u0439 \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441: \",DRIVER_STATUS[driverStatus]]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:styles.change_status_text,children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.change_status_btns,children:[/*#__PURE__*/_jsx(\"button\",{className:styles.change_status_btn,onClick:onClickStatusFree,disabled:driverStatus==='free',children:\"\\u042F \\u0441\\u0432\\u043E\\u0431\\u043E\\u0434\\u0435\\u043D\"}),/*#__PURE__*/_jsx(\"button\",{className:cx(styles.change_status_btn,styles.change_status_btn_busy),onClick:onClickStatusBusy,disabled:driverStatus==='busy',children:\"\\u042F \\u0437\\u0430\\u043D\\u044F\\u0442\"})]})]})]});};export default DriverStatus;","map":{"version":3,"names":["React","styles","cx","useDriverContext","changeDriverDataQuery","DRIVER_STATUS","jsxs","_jsxs","jsx","_jsx","DriverStatus","_useDriverContext","carId","setDriverStatus","driverStatus","onClickStatusFree","status","catch","err","alert","concat","onClickStatusBusy","children","className","status_text","status_text_busy","change_status_text","change_status_btns","change_status_btn","onClick","disabled","change_status_btn_busy"],"sources":["/Users/admin/Desktop/projects/wetop/taxi/frontend/src/pages/Driver/DriverStatus/DriverStatus.jsx"],"sourcesContent":["import React from 'react';\nimport styles from './DriverStatus.module.scss';\nimport cx from 'classnames';\nimport { useDriverContext } from '../DriverContext';\nimport { changeDriverDataQuery } from '../../../services/userService';\nimport { DRIVER_STATUS } from '../../../helpers/dictionaries';\n\nconst DriverStatus = () => {\n  const { carId, setDriverStatus, driverStatus } = useDriverContext();\n\n  const onClickStatusFree = () => {\n    setDriverStatus('free');\n    changeDriverDataQuery({ status: 'free' }, carId).catch((err) => {\n      alert(`не удалось изменить статус ${err}`);\n    });\n  };\n\n  const onClickStatusBusy = () => {\n    setDriverStatus('busy');\n    changeDriverDataQuery({ status: 'busy' }, carId).catch((err) => {\n      alert(`не удалось изменить статус ${err}`);\n    });\n  };\n\n  return (\n    <div>\n      <p\n        className={cx(\n          styles.status_text,\n          driverStatus === 'busy' ? styles.status_text_busy : '',\n        )}>\n        Текущий статус: {DRIVER_STATUS[driverStatus]}\n      </p>\n      <div>\n        <p className={styles.change_status_text}>Изменить статус</p>\n        <div className={styles.change_status_btns}>\n          <button\n            className={styles.change_status_btn}\n            onClick={onClickStatusFree}\n            disabled={driverStatus === 'free'}>\n            Я свободен\n          </button>\n          <button\n            className={cx(\n              styles.change_status_btn,\n              styles.change_status_btn_busy,\n            )}\n            onClick={onClickStatusBusy}\n            disabled={driverStatus === 'busy'}>\n            Я занят\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DriverStatus;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,4BAA4B,CAC/C,MAAO,CAAAC,EAAE,KAAM,YAAY,CAC3B,OAASC,gBAAgB,KAAQ,kBAAkB,CACnD,OAASC,qBAAqB,KAAQ,+BAA+B,CACrE,OAASC,aAAa,KAAQ,+BAA+B,CAAC,OAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,yBAE9D,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzB,IAAAC,iBAAA,CAAiDR,gBAAgB,CAAC,CAAC,CAA3DS,KAAK,CAAAD,iBAAA,CAALC,KAAK,CAAEC,eAAe,CAAAF,iBAAA,CAAfE,eAAe,CAAEC,YAAY,CAAAH,iBAAA,CAAZG,YAAY,CAE5C,GAAM,CAAAC,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAA,CAAS,CAC9BF,eAAe,CAAC,MAAM,CAAC,CACvBT,qBAAqB,CAAC,CAAEY,MAAM,CAAE,MAAO,CAAC,CAAEJ,KAAK,CAAC,CAACK,KAAK,CAAC,SAACC,GAAG,CAAK,CAC9DC,KAAK,kJAAAC,MAAA,CAA+BF,GAAG,CAAE,CAAC,CAC5C,CAAC,CAAC,CACJ,CAAC,CAED,GAAM,CAAAG,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAA,CAAS,CAC9BR,eAAe,CAAC,MAAM,CAAC,CACvBT,qBAAqB,CAAC,CAAEY,MAAM,CAAE,MAAO,CAAC,CAAEJ,KAAK,CAAC,CAACK,KAAK,CAAC,SAACC,GAAG,CAAK,CAC9DC,KAAK,kJAAAC,MAAA,CAA+BF,GAAG,CAAE,CAAC,CAC5C,CAAC,CAAC,CACJ,CAAC,CAED,mBACEX,KAAA,QAAAe,QAAA,eACEf,KAAA,MACEgB,SAAS,CAAErB,EAAE,CACXD,MAAM,CAACuB,WAAW,CAClBV,YAAY,GAAK,MAAM,CAAGb,MAAM,CAACwB,gBAAgB,CAAG,EACtD,CAAE,CAAAH,QAAA,EAAC,mFACa,CAACjB,aAAa,CAACS,YAAY,CAAC,EAC3C,CAAC,cACJP,KAAA,QAAAe,QAAA,eACEb,IAAA,MAAGc,SAAS,CAAEtB,MAAM,CAACyB,kBAAmB,CAAAJ,QAAA,CAAC,uFAAe,CAAG,CAAC,cAC5Df,KAAA,QAAKgB,SAAS,CAAEtB,MAAM,CAAC0B,kBAAmB,CAAAL,QAAA,eACxCb,IAAA,WACEc,SAAS,CAAEtB,MAAM,CAAC2B,iBAAkB,CACpCC,OAAO,CAAEd,iBAAkB,CAC3Be,QAAQ,CAAEhB,YAAY,GAAK,MAAO,CAAAQ,QAAA,CAAC,yDAErC,CAAQ,CAAC,cACTb,IAAA,WACEc,SAAS,CAAErB,EAAE,CACXD,MAAM,CAAC2B,iBAAiB,CACxB3B,MAAM,CAAC8B,sBACT,CAAE,CACFF,OAAO,CAAER,iBAAkB,CAC3BS,QAAQ,CAAEhB,YAAY,GAAK,MAAO,CAAAQ,QAAA,CAAC,uCAErC,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAZ,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}