{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Desktop/projects/wetop/taxi/frontend/src/pages/Driver/Driver.js\",\n  _s = $RefreshSig$();\nimport styles from './Driver.module.scss';\nimport Header from '../../components/Header/Header';\nimport DriverStatus from './DriverStatus/DriverStatus';\nimport DriverPopup from './DriverPopup/DriverPopup';\nimport { useEffect, useState } from 'react';\nimport changeMeta from '../../services/changeMeta';\nimport { DriverProvider, useDriverContext } from './DriverContext';\nimport { getDriverInfoByToken } from '../../services/api';\nimport { useNavigate } from 'react-router-dom';\nimport { routes } from '../../services/routes';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ORDER = {\n  id: '3',\n  address: 'Некрасова, 19'\n};\nconst PAGE_TITLE = 'Водитель - \"БКФ Такси\"';\nconst PAGE_FAVICON = '/favicon_driver.ico';\nfunction Driver() {\n  _s();\n  const navigate = useNavigate();\n  const {\n    setCarId,\n    setCarNumber,\n    setDriverName,\n    setDriverPhone\n  } = useDriverContext();\n  useEffect(() => {\n    changeMeta(PAGE_TITLE, PAGE_FAVICON);\n    getDriverInfoByToken().then(res => {\n      setCarId(res.id);\n      setCarNumber(res.car_number);\n      setDriverName(res.first_name);\n      setDriverPhone(res.phone);\n    }).catch(err => {\n      alert('Ошибка авторизации');\n      navigate(routes.login);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(DriverProvider, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        isAuth: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: [/*#__PURE__*/_jsxDEV(DriverStatus, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DriverPopup, {\n          address: ORDER.address,\n          orderId: ORDER.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(Driver, \"WPnJuME3MN+B/QbnImXdkvi3wBg=\", false, function () {\n  return [useNavigate, useDriverContext];\n});\n_c = Driver;\nexport default Driver;\nvar _c;\n$RefreshReg$(_c, \"Driver\");","map":{"version":3,"names":["styles","Header","DriverStatus","DriverPopup","useEffect","useState","changeMeta","DriverProvider","useDriverContext","getDriverInfoByToken","useNavigate","routes","jsxDEV","_jsxDEV","ORDER","id","address","PAGE_TITLE","PAGE_FAVICON","Driver","_s","navigate","setCarId","setCarNumber","setDriverName","setDriverPhone","then","res","car_number","first_name","phone","catch","err","alert","login","children","className","container","isAuth","fileName","_jsxFileName","lineNumber","columnNumber","orderId","_c","$RefreshReg$"],"sources":["/Users/admin/Desktop/projects/wetop/taxi/frontend/src/pages/Driver/Driver.js"],"sourcesContent":["import styles from './Driver.module.scss';\nimport Header from '../../components/Header/Header';\nimport DriverStatus from './DriverStatus/DriverStatus';\nimport DriverPopup from './DriverPopup/DriverPopup';\nimport {useEffect, useState} from 'react';\nimport changeMeta from '../../services/changeMeta';\nimport {DriverProvider, useDriverContext} from './DriverContext';\nimport {getDriverInfoByToken} from '../../services/api';\nimport {useNavigate} from 'react-router-dom';\nimport {routes} from '../../services/routes';\n\n\nconst ORDER = {\n  id: '3',\n  address: 'Некрасова, 19'\n}\n\nconst PAGE_TITLE = 'Водитель - \"БКФ Такси\"';\nconst PAGE_FAVICON = '/favicon_driver.ico';\n\nfunction Driver() {\n  const navigate = useNavigate();\n  const {setCarId, setCarNumber, setDriverName, setDriverPhone} = useDriverContext()\n\n  useEffect(() => {\n\n    changeMeta(PAGE_TITLE, PAGE_FAVICON);\n\n    getDriverInfoByToken()\n      .then((res) => {\n          setCarId(res.id)\n          setCarNumber(res.car_number)\n          setDriverName(res.first_name)\n          setDriverPhone(res.phone)\n      })\n      .catch((err) => {\n        alert('Ошибка авторизации');\n        navigate(routes.login);\n      })\n    },[]);\n\n\n  return (\n    <DriverProvider>\n      <div className={styles.container}>\n        <Header isAuth={true}/>\n        <main>\n          <DriverStatus />\n          <DriverPopup address={ORDER.address} orderId={ORDER.id}/>\n        </main>\n      </div>\n    </DriverProvider>\n\n  );\n}\n\nexport default Driver;\n"],"mappings":";;AAAA,OAAOA,MAAM,MAAM,sBAAsB;AACzC,OAAOC,MAAM,MAAM,gCAAgC;AACnD,OAAOC,YAAY,MAAM,6BAA6B;AACtD,OAAOC,WAAW,MAAM,2BAA2B;AACnD,SAAQC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AACzC,OAAOC,UAAU,MAAM,2BAA2B;AAClD,SAAQC,cAAc,EAAEC,gBAAgB,QAAO,iBAAiB;AAChE,SAAQC,oBAAoB,QAAO,oBAAoB;AACvD,SAAQC,WAAW,QAAO,kBAAkB;AAC5C,SAAQC,MAAM,QAAO,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAG7C,MAAMC,KAAK,GAAG;EACZC,EAAE,EAAE,GAAG;EACPC,OAAO,EAAE;AACX,CAAC;AAED,MAAMC,UAAU,GAAG,wBAAwB;AAC3C,MAAMC,YAAY,GAAG,qBAAqB;AAE1C,SAASC,MAAMA,CAAA,EAAG;EAAAC,EAAA;EAChB,MAAMC,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAC9B,MAAM;IAACY,QAAQ;IAAEC,YAAY;IAAEC,aAAa;IAAEC;EAAc,CAAC,GAAGjB,gBAAgB,CAAC,CAAC;EAElFJ,SAAS,CAAC,MAAM;IAEdE,UAAU,CAACW,UAAU,EAAEC,YAAY,CAAC;IAEpCT,oBAAoB,CAAC,CAAC,CACnBiB,IAAI,CAAEC,GAAG,IAAK;MACXL,QAAQ,CAACK,GAAG,CAACZ,EAAE,CAAC;MAChBQ,YAAY,CAACI,GAAG,CAACC,UAAU,CAAC;MAC5BJ,aAAa,CAACG,GAAG,CAACE,UAAU,CAAC;MAC7BJ,cAAc,CAACE,GAAG,CAACG,KAAK,CAAC;IAC7B,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;MACdC,KAAK,CAAC,oBAAoB,CAAC;MAC3BZ,QAAQ,CAACV,MAAM,CAACuB,KAAK,CAAC;IACxB,CAAC,CAAC;EACJ,CAAC,EAAC,EAAE,CAAC;EAGP,oBACErB,OAAA,CAACN,cAAc;IAAA4B,QAAA,eACbtB,OAAA;MAAKuB,SAAS,EAAEpC,MAAM,CAACqC,SAAU;MAAAF,QAAA,gBAC/BtB,OAAA,CAACZ,MAAM;QAACqC,MAAM,EAAE;MAAK;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC,eACvB7B,OAAA;QAAAsB,QAAA,gBACEtB,OAAA,CAACX,YAAY;UAAAqC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAChB7B,OAAA,CAACV,WAAW;UAACa,OAAO,EAAEF,KAAK,CAACE,OAAQ;UAAC2B,OAAO,EAAE7B,KAAK,CAACC;QAAG;UAAAwB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACQ,CAAC;AAGrB;AAACtB,EAAA,CAlCQD,MAAM;EAAA,QACIT,WAAW,EACoCF,gBAAgB;AAAA;AAAAoC,EAAA,GAFzEzB,MAAM;AAoCf,eAAeA,MAAM;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}